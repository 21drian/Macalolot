<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.text.Font?>

<AnchorPane xmlns="http://javafx.com/javafx/24.0.1"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="pos.controller.PosContentController"
            prefWidth="1190" prefHeight="700" style="-fx-background-color: #f0f2f5;">
    
    <!-- Main Content with proper margins -->
    <SplitPane dividerPositions="0.52" style="-fx-background-color: transparent;" AnchorPane.topAnchor="16" AnchorPane.bottomAnchor="16" AnchorPane.leftAnchor="16" AnchorPane.rightAnchor="16">
        <items>
            <!-- LEFT: Products Panel -->
            <VBox spacing="14" style="-fx-background-color: white; -fx-background-radius: 12; -fx-padding: 20; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.1), 10, 0, 0, 2);">
                <!-- Products Header -->
                <HBox alignment="CENTER_LEFT" spacing="12">
                    <Label style="-fx-text-fill: #2c3e50; -fx-font-size: 18px; -fx-font-weight: bold;" text="ðŸ“¦ Products">
                        <font><Font name="Arial Bold" size="18" /></font>
                    </Label>
                    <Region HBox.hgrow="ALWAYS" />
                    <Label style="-fx-background-color: #e9ecef; -fx-text-fill: #495057; -fx-padding: 4 12; -fx-background-radius: 12; -fx-font-size: 11px; -fx-font-weight: 600;" text="CATALOG" />
                </HBox>
                
                <!-- Search Bar -->
                <TextField fx:id="txtSearch" promptText="ðŸ” Search name / SKU / barcode..." 
                           style="-fx-background-color: #f8f9fa; -fx-border-color: #dee2e6; -fx-border-width: 1.5; -fx-border-radius: 10; -fx-background-radius: 10; -fx-padding: 12 16; -fx-font-size: 14px; -fx-prompt-text-fill: #adb5bd;" />
                
                <!-- Products Table -->
                <TableView fx:id="tblProducts" VBox.vgrow="ALWAYS" style="-fx-background-color: white; -fx-border-color: #e9ecef; -fx-border-radius: 8; -fx-border-width: 1;">
                    <columns>
                        <TableColumn fx:id="colPName" text="Name" prefWidth="200" />
                        <TableColumn fx:id="colPPrice" text="Price" prefWidth="100" style="-fx-alignment: CENTER-RIGHT;" />
                        <TableColumn fx:id="colPStock" text="Stock" prefWidth="80" style="-fx-alignment: CENTER;" />
                    </columns>
                </TableView>
                
                <!-- Add to Cart Section -->
                <HBox spacing="12" alignment="CENTER_LEFT" style="-fx-background-color: #f8f9fa; -fx-padding: 12 16; -fx-background-radius: 8;">
                    <VBox spacing="4">
                        <Label style="-fx-text-fill: #6c757d; -fx-font-size: 11px; -fx-font-weight: 600;" text="QUANTITY" />
                        <TextField fx:id="txtQty" promptText="Qty" prefWidth="80" 
                                   style="-fx-background-color: white; -fx-border-color: #ced4da; -fx-border-width: 1; -fx-border-radius: 6; -fx-background-radius: 6; -fx-padding: 8; -fx-font-size: 14px; -fx-alignment: center;" />
                    </VBox>
                    <Region HBox.hgrow="ALWAYS" />
                    <Button onAction="#addToCart" prefHeight="40" prefWidth="140"
                            style="-fx-background-color: linear-gradient(to right, #940857 0%, #c41766 100%); -fx-text-fill: white; -fx-font-size: 14px; -fx-font-weight: 600; -fx-background-radius: 8; -fx-cursor: hand; -fx-effect: dropshadow(gaussian, rgba(148,8,87,0.3), 8, 0, 0, 2);" 
                            text="+ Add to Cart">
                        <font><Font name="Arial" size="14" /></font>
                    </Button>
                </HBox>
            </VBox>
            
            <!-- RIGHT: Cart Panel -->
            <VBox spacing="14" style="-fx-background-color: white; -fx-background-radius: 12; -fx-padding: 20; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.1), 10, 0, 0, 2);">
                <!-- Cart Header -->
                <HBox alignment="CENTER_LEFT" spacing="12">
                    <Label style="-fx-text-fill: #2c3e50; -fx-font-size: 18px; -fx-font-weight: bold;" text="ðŸ›’ Cart">
                        <font><Font name="Arial Bold" size="18" /></font>
                    </Label>
                    <Region HBox.hgrow="ALWAYS" />
                    <Label style="-fx-background-color: #940857; -fx-text-fill: white; -fx-padding: 4 12; -fx-background-radius: 12; -fx-font-size: 11px; -fx-font-weight: 600;" text="0 ITEMS" />
                </HBox>
                
                <!-- Cart Table -->
                <TableView fx:id="tblCart" VBox.vgrow="ALWAYS" style="-fx-background-color: white; -fx-border-color: #e9ecef; -fx-border-radius: 8; -fx-border-width: 1;">
                    <columns>
                        <TableColumn fx:id="colCName" text="Item" prefWidth="170" />
                        <TableColumn fx:id="colCQty" text="Qty" prefWidth="60" style="-fx-alignment: CENTER;" />
                        <TableColumn fx:id="colCPrice" text="Price" prefWidth="90" style="-fx-alignment: CENTER-RIGHT;" />
                        <TableColumn fx:id="colCTotal" text="Total" prefWidth="110" style="-fx-alignment: CENTER-RIGHT;" />
                    </columns>
                </TableView>
                
                <!-- Grand Total -->
                <VBox spacing="10" style="-fx-background-color: linear-gradient(to right, #940857 0%, #c41766 100%); -fx-padding: 16 20; -fx-background-radius: 10; -fx-effect: dropshadow(gaussian, rgba(148,8,87,0.3), 10, 0, 0, 4);">
                    <HBox alignment="CENTER_LEFT">
                        <Label style="-fx-text-fill: rgba(255,255,255,0.9); -fx-font-size: 14px; -fx-font-weight: 600;" text="Grand Total:">
                            <font><Font name="Arial" size="14" /></font>
                        </Label>
                        <Region HBox.hgrow="ALWAYS" />
                        <Label fx:id="lblGrandTotal" style="-fx-text-fill: white; -fx-font-size: 28px; -fx-font-weight: bold;" text="0.00">
                            <font><Font name="Arial Bold" size="28" /></font>
                        </Label>
                    </HBox>
                </VBox>
                
                <!-- Action Buttons -->
                <HBox spacing="10">
                    <Button onAction="#removeSelected" prefHeight="42" HBox.hgrow="ALWAYS"
                            style="-fx-background-color: white; -fx-text-fill: #dc3545; -fx-border-color: #dc3545; -fx-border-width: 1.5; -fx-border-radius: 8; -fx-background-radius: 8; -fx-font-size: 13px; -fx-font-weight: 600; -fx-cursor: hand;" 
                            text="Remove Selected">
                        <font><Font name="Arial" size="13" /></font>
                    </Button>
                    
                    <Button onAction="#clearCart" prefHeight="42" HBox.hgrow="ALWAYS"
                            style="-fx-background-color: white; -fx-text-fill: #6c757d; -fx-border-color: #dee2e6; -fx-border-width: 1.5; -fx-border-radius: 8; -fx-background-radius: 8; -fx-font-size: 13px; -fx-font-weight: 600; -fx-cursor: hand;" 
                            text="Clear Cart">
                        <font><Font name="Arial" size="13" /></font>
                    </Button>
                    
                    <Button onAction="#checkout" prefHeight="42" HBox.hgrow="ALWAYS"
                            style="-fx-background-color: linear-gradient(to right, #28a745 0%, #20c997 100%); -fx-text-fill: white; -fx-font-size: 14px; -fx-font-weight: bold; -fx-background-radius: 8; -fx-cursor: hand; -fx-effect: dropshadow(gaussian, rgba(40,167,69,0.3), 8, 0, 0, 2);" 
                            text="Checkout">
                        <font><Font name="Arial Bold" size="14" /></font>
                    </Button>
                </HBox>
            </VBox>
        </items>
    </SplitPane>
</AnchorPane>